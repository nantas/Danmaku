<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Unity Web Player | Pure Danmaku</title>
		<script type="text/javascript" src="http://webplayer.unity3d.com/download_webplayer-3.x/3.0/uo/UnityObject.js"></script>

        <script type="text/javascript" 
        src="http://game.weibo.com/static/js/v0.3/wyx.connect.js.php">
        </script>

		<script type="text/javascript">
		<!--
		function GetUnity() {
			if (typeof unityObject != "undefined") {
				return unityObject.getObjectById("unityPlayer");
			}
			return null;
		}
		if (typeof unityObject != "undefined") {
			unityObject.embedUnity("unityPlayer", "WebPlayer.unity3d", 960, 640);
			
		}
		-->
		</script>
		<style type="text/css">
		<!--
		body {
			font-family: Helvetica, Verdana, Arial, sans-serif;
			background-color: white;
			color: black;
			text-align: center;
		}
		a:link, a:visited {
			color: #000;
		}
		a:active, a:hover {
			color: #666;
		}
		p.header {
			font-size: small;
		}
		p.header span {
			font-weight: bold;
		}
		p.footer {
			font-size: x-small;
		}
		div.content {
			margin: auto;
			width: 960px;
		}
		div.missing {
			margin: auto;
			position: relative;
			top: 50%;
			width: 193px;
		}
		div.missing a {
			height: 63px;
			position: relative;
			top: -31px;
		}
		div.missing img {
			border-width: 0px;
		}
		div#unityPlayer {
			cursor: default;
			height: 640px;
			width: 960px;
		}
		-->
		</style>
	</head>
	<body>

    <script type="text/javascript">
      <!-- // Called when the API is finished loading                                             -->
      <!-- function onLoadCompleted(){                                                            -->
      <!--   // Get a global reference to the kongregate API. This way, pages included in the     -->
      <!--   // iframe can access it by using "parent.kongregate"                                 -->
      <!--   kongregate = kongregateAPI.getAPI();                                                 -->
      <!--                                                                                        -->
      <!--   // Embed the game into the "contentdiv" div, which is defined below. You can also    -->
      <!--   // manually create your own iframe, this function is just for convenience.           -->
      <!--   // This example also passes along the kongregate user_id and game_auth_token so      -->
      <!--   // that the page can use them for authentication.                                    -->
      <!--   var params = "kongregate_user_id=" + kongregate.services.getUserId() +               -->
      <!--              "&kongregate_game_auth_token=" + kongregate.services.getGameAuthToken() + -->
      <!--              "&random=" + (Math.random() * 1000000000);                                -->
      <!--   kongregateAPI.embedFrame("game.html?" + params);                                     -->
      <!-- }                                                                                      -->
      <!--                                                                                        -->
      <!-- // Begin the process of loading the Kongregate API:                                    -->
      <!-- kongregateAPI.loadAPI(onLoadCompleted);                                                -->

      function setLeaderBoard(var appKey, var boardId, var score) {
        WYX.Connect.send({
           method:'leaderboards',
           params:{
              appId:appKey,
              leaderboardId:boardId,
              value:score,//排行值
              mode:WidgetMode.DELAY
           }
        },function(data){
           //callBack function
            var unity = GetUnity();
            unity.SendMessage("Game", "OnLeaderBoardSet", "done");
        });
      }

     function showLeaderBoard() {
        WYX.Connect.send({
           method:'setWidgetMode',
           params:{
              mode:WidgetMode.DELAY
           }
        },function(data){
          //callBack function
        });

        WYX.Connect.send({
           method:'fireDelay'
        },function(data){
          //callBack function
            var unity = GetUnity();
            unity.SendMessage("Game", "OnLeaderBoardShow", "done");
        });
      }

      WYX.Connect.init();

      <!-- unityObject.getObjectById("UnityContent").SendMessage("Game", "GetUserInfo", alert(document.URL)); -->

    </script>

		<p class="header"><span>Unity Web Player | </span>Pure Danmaku</p>
		<div class="content">
			<div id="unityPlayer">
				<div class="missing">
					<a href="http://unity3d.com/webplayer/" title="Unity Web Player. Install now!">
						<img alt="Unity Web Player. Install now!" src="http://webplayer.unity3d.com/installation/getunity.png" width="193" height="63" />
					</a>
				</div>
			</div>
		</div>
		<p class="footer">&laquo; created by <a href="http://abitgames.com" title="More Games on aBit Games">aBit Games</a> &raquo;</p>
	</body>
</html>
